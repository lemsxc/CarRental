@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<partial name="~/Views/Admin/Partials/_AdminSideNav.cshtml"></partial>

<div class="min-h-screen flex flex-col bg-slate-300 ms-[260px]">
    <partial name="~/Views/Admin/Partials/_AdminTopNav.cshtml"></partial>
    <div class="z-10 -mt-4 w-full">
        <div class="flex gap-5 max-md:flex-col">
            <div class="flex flex-col items-center px-20 py-16 w-full max-md:px-5 max-md:max-w-full">
                <div class="flex flex-col w-full my-auto max-md:mt-10 max-md:max-w-full">
                    <form method="post" enctype="multipart/form-data" asp-action="Create" asp-controller="Car">
                        <div class="flex flex-wrap items-end max-md:max-w-full">
                            <div class="flex flex-col justify-center min-w-[240px] max-md:max-w-full">
                                <h1 class="text-3xl font-bold text-teal-950">Add Vehicle</h1>
                                <p class="mt-1.5 text-base text-zinc-500 max-md:max-w-full">
                                    We'll employ these requirement details to accurately track your Vehicle.
                                </p>
                            </div>
                        </div>
                        <div class="flex flex-col mt-10 text-teal-950 max-md:max-w-full">
                            <h2 class="text-2xl font-semibold text-teal-950">Vehicle Details</h2>
                            <div class="flex flex-wrap gap-2.5 items-start mt-5 max-md:max-w-full">
                                <div class="flex flex-col">
                                    <label for="brand" class="text-sm font-semibold">Brand</label>
                                    <input type="text" name="Brand" class="px-6 py-4 mt-2 bg-white rounded-lg w-full">
                                </div>
                                <div class="flex flex-col">
                                    <label for="model" class="text-sm font-semibold">Model</label>
                                    <input type="text" name="Model" class="px-6 py-4 mt-2 bg-white rounded-lg w-full">
                                </div>
                                <div class="flex flex-col">
                                    <label for="plateNumber" class="text-sm font-semibold">Plate Number</label>
                                    <input type="text" name="PlateNumber"
                                        class="px-6 py-4 mt-2 bg-white rounded-lg w-full">
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col mt-8 max-md:max-w-full">
                            <h2 class="text-2xl font-semibold text-teal-950">Vehicle Images</h2>
                            <div
                                class="flex flex-wrap gap-2.5 items-start text-xs text-teal-950 max-md:max-w-full mt-5">
                                <div
                                    class="flex flex-col items-center px-6 py-5 bg-white rounded-lg border border-dashed border-slate-300 max-md:px-5">
                                    <input type="file" name="Image" id="vehicleImage" class="hidden" accept="image/*"
                                        multiple>
                                    <label for="vehicleImage" class="items-center cursor-pointer">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto" width="32" height="32" fill="#000000"
                                            viewBox="0 0 256 256">
                                            <path
                                                d="M208,56H180.28L166.65,35.56A8,8,0,0,0,160,32H96a8,8,0,0,0-6.65,3.56L75.71,56H48A24,24,0,0,0,24,80V192a24,24,0,0,0,24,24H208a24,24,0,0,0,24-24V80A24,24,0,0,0,208,56Zm8,136a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H80a8,8,0,0,0,6.66-3.56L100.28,48h55.43l13.63,20.44A8,8,0,0,0,176,72h32a8,8,0,0,1,8,8ZM128,88a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,88Zm0,72a28,28,0,1,1,28-28A28,28,0,0,1,128,160Z">
                                            </path>
                                        </svg>
                                        <div class="flex flex-col items-center mt-4">
                                            <span>Upload Or Paste Image</span>
                                            <span class="mt-1.5 font-semibold">jpg/jpeg/png</span>
                                        </div>
                                    </label>
                                </div>
                                <div id="imagePreviewContainer" class="flex flex-wrap gap-2.5 mt-5"></div>
                            </div>
                        </div>
                        <button type="submit"
                            class="gap-2 self-stretch px-5 py-2.5 text-sm text-white bg-teal-700 rounded-lg min-h-[40px]">
                            Save Vehicle
                        </button>
                    </form>
                    <footer class="self-start mt-28 text-sm text-teal-950 max-md:mt-10">
                        Copyright &copy; 2023 UrbanDrive V1
                    </footer>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById("vehicleImage").addEventListener("change", function (event) {
        let imageContainer = document.getElementById("imagePreviewContainer");
        imageContainer.innerHTML = ""; // Clear existing images

        Array.from(event.target.files).forEach(file => {
            let reader = new FileReader();
            reader.onload = function (e) {
                let img = document.createElement("img");
                img.src = e.target.result;
                img.className = "w-32 h-32 rounded-lg border border-gray-300";
                imageContainer.appendChild(img);
            };
            reader.readAsDataURL(file);
        });
    });
</script>
